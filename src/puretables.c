/**
 * Implementation of puretables.h
 * @file
 */
 
#include "puretables.h"

#include "mino.h"

static piece PureRotationSystem[MinoGarbage][SpinSize] = {
	{}, /* MinoNone */
	{ /* MinoI */
		{
			{.x = 0, .y = 2}, {.x = 1, .y = 2},
			{.x = 2, .y = 2}, {.x = 3, .y = 2}
		},
		{
			{.x = 2, .y = 3}, {.x = 2, .y = 2},
			{.x = 2, .y = 1}, {.x = 2, .y = 0}
		},
		{
			{.x = 0, .y = 2}, {.x = 1, .y = 2},
			{.x = 2, .y = 2}, {.x = 3, .y = 2}
		},
		{
			{.x = 2, .y = 3}, {.x = 2, .y = 2},
			{.x = 2, .y = 1}, {.x = 2, .y = 0}
		}
	},
	{ /* MinoL */
		{
			{.x = 0, .y = 1}, {.x = 1, .y = 1},
			{.x = 2, .y = 1}, {.x = 0, .y = 0}
		},
		{
			{.x = 0, .y = 2}, {.x = 1, .y = 2},
			{.x = 1, .y = 1}, {.x = 1, .y = 0}
		},
		{
			{.x = 2, .y = 1}, {.x = 0, .y = 0},
			{.x = 1, .y = 0}, {.x = 2, .y = 0}
		},
		{
			{.x = 1, .y = 2}, {.x = 1, .y = 1},
			{.x = 1, .y = 0}, {.x = 2, .y = 0}
		}
	},
	{ /* MinoO */
		{
			{.x = 1, .y = 1}, {.x = 2, .y = 1},
			{.x = 1, .y = 0}, {.x = 2, .y = 0}
		},
		{
			{.x = 1, .y = 1}, {.x = 2, .y = 1},
			{.x = 1, .y = 0}, {.x = 2, .y = 0}
		},
		{
			{.x = 1, .y = 1}, {.x = 2, .y = 1},
			{.x = 1, .y = 0}, {.x = 2, .y = 0}
		},
		{
			{.x = 1, .y = 1}, {.x = 2, .y = 1},
			{.x = 1, .y = 0}, {.x = 2, .y = 0}
		}
	},
	{ /* MinoZ */
		{
			{.x = 0, .y = 1}, {.x = 1, .y = 1},
			{.x = 1, .y = 0}, {.x = 2, .y = 0}
		},
		{
			{.x = 2, .y = 2}, {.x = 1, .y = 1},
			{.x = 2, .y = 1}, {.x = 1, .y = 0}
		},
		{
			{.x = 0, .y = 1}, {.x = 1, .y = 1},
			{.x = 1, .y = 0}, {.x = 2, .y = 0}
		},
		{
			{.x = 2, .y = 2}, {.x = 1, .y = 1},
			{.x = 2, .y = 1}, {.x = 1, .y = 0}
		}
	},
	{ /* MinoT */
		{
			{.x = 0, .y = 1}, {.x = 1, .y = 1},
			{.x = 2, .y = 1}, {.x = 1, .y = 0}
		},
		{
			{.x = 1, .y = 2}, {.x = 0, .y = 1},
			{.x = 1, .y = 1}, {.x = 1, .y = 0}
		},
		{
			{.x = 1, .y = 1}, {.x = 0, .y = 0},
			{.x = 1, .y = 0}, {.x = 2, .y = 0}
		},
		{
			{.x = 1, .y = 2}, {.x = 1, .y = 1},
			{.x = 2, .y = 1}, {.x = 1, .y = 0}
		}
	},
	{ /* MinoJ */
		{
			{.x = 0, .y = 1}, {.x = 1, .y = 1},
			{.x = 2, .y = 1}, {.x = 2, .y = 0}
		},
		{
			{.x = 1, .y = 2}, {.x = 1, .y = 1},
			{.x = 0, .y = 0}, {.x = 1, .y = 0}
		},
		{
			{.x = 0, .y = 1}, {.x = 0, .y = 0},
			{.x = 1, .y = 0}, {.x = 2, .y = 0}
		},
		{
			{.x = 1, .y = 2}, {.x = 2, .y = 2},
			{.x = 1, .y = 1}, {.x = 1, .y = 0}
		}
	},
	{ /* MinoS */
		{
			{.x = 1, .y = 1}, {.x = 2, .y = 1},
			{.x = 0, .y = 0}, {.x = 1, .y = 0}
		},
		{
			{.x = 0, .y = 2}, {.x = 0, .y = 1},
			{.x = 1, .y = 1}, {.x = 1, .y = 0}
		},
		{
			{.x = 1, .y = 1}, {.x = 2, .y = 1},
			{.x = 0, .y = 0}, {.x = 1, .y = 0}
		},
		{
			{.x = 0, .y = 2}, {.x = 0, .y = 1},
			{.x = 1, .y = 1}, {.x = 1, .y = 0}
		}
	}
};

piece* pureGetPiece(mino type, spin rotation)
{
	return &PureRotationSystem[type][rotation];
}
